<!DOCTYPE html>
<html>
<head>
<title>CSV Viewer</title>
</head>

<body style="font-family: Arial; padding: 20px;">
    <h1>CSV Data Loaded from Streamlit</h1>

    <div id="csv-table">Loading CSV...</div>

    <script>
        async function loadCSV() {
            // Automatically correct for localhost or Streamlit Cloud
            const csvUrl = window.location.origin + "/static-data/sample.csv";

            const response = await fetch(csvUrl);
            const csvText = await response.text();
            const rows = csvText.trim().split("\n").map(r => r.split(","));

            let html = "<table border='1' cellpadding='6' style='border-collapse: collapse;'>";

            rows.forEach(row => {
                html += "<tr>";
                row.forEach(cell => {
                    html += "<td>" + cell + "</td>";
                });
                html += "</tr>";
            });

            html += "</table>";

            document.getElementById("csv-table").innerHTML = html;
        }

        loadCSV();
    </script>

</body>
</html>

